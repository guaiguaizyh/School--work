C51 COMPILER V9.00   MAIN                                                                  12/13/2019 08:52:32 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          //基于天祥电路板
   2          #include <config.h>
   3          #include <PCF8591.h> 
   4          #include <1602.h> 
   5          u8 disval[]={200,180,170}
   6          disval[0]=200    0=10cm  200=//电压的数字值
*** ERROR C141 IN LINE 6 OF MAIN.C: syntax error near 'disval'
*** ERROR C136 IN LINE 6 OF MAIN.C: invalid dimension size: [0]
*** ERROR C279 IN LINE 6 OF MAIN.C: 'disval': multiple initialization
*** ERROR C231 IN LINE 6 OF MAIN.C: 'disval': redefinition
*** ERROR C141 IN LINE 6 OF MAIN.C: syntax error near '0'
   7          disval[1]=180    1=11cm  180=//电压的数字值
*** ERROR C279 IN LINE 7 OF MAIN.C: 'disval': multiple initialization
*** ERROR C141 IN LINE 7 OF MAIN.C: syntax error near '1'
   8          disval[2]=170 
*** ERROR C279 IN LINE 8 OF MAIN.C: 'disval': multiple initialization
*** ERROR C231 IN LINE 8 OF MAIN.C: 'disval': redefinition
   9          
  10            
  11          sbit beep=P2^3;//蜂鸣器 
*** ERROR C141 IN LINE 11 OF MAIN.C: syntax error near 'sbit'
*** ERROR C247 IN LINE 11 OF MAIN.C: non-address/-constant initializer
  12          
  13          u8 flag=0;      //0:叮,1:咚
  14          u16 n0=0,n1=0;  //n0:叮周期计数，n1:咚周期计数
  15          
  16          void delay_us(u16 n)//微秒延时
  17          {
  18   1          while(--n);
  19   1      }
  20          
  21          void delay_ms(u16 x)//毫秒延时函数
  22          {u16 i,j;
  23   1       for(i=0;i<x;i++)
  24   1          for(j=0;j<115;j++);
  25   1      }
  26          
  27          void Alarm(u8 t) //蜂鸣器报警,持续t秒,软件延时
  28          {
  29   1       u8 k; 
  30   1       u16 i,j;               
  31   1       for(k=0;k<t;k++)
  32   1       { for(i=0;i<100;i++)//叮
  33   2            {beep=0;delay_us(250);beep=1;delay_us(250);}
  34   2         for(j=0;j<50;j++)//咚
  35   2            {beep=0;delay_us(500);beep=1;delay_us(500);}
  36   2       }
  37   1      }
  38          
  39          void Alarm_init() //蜂鸣器报警,定时器T0
  40          {
  41   1              TMOD&=0xf0;//定时器T0设为方式2,8位自动装载模式
  42   1          TMOD|=0x02;  
  43   1              TH0=0X00;
  44   1              TL0=0X00; //定时250us
C51 COMPILER V9.00   MAIN                                                                  12/13/2019 08:52:32 PAGE 2   

  45   1              EA=1;
  46   1              ET0=1;
  47   1      }
  48          
  49          void Alarm_Power(u8 t) //打开/关闭蜂鸣器报警,定时器T0,1：打开，0：关闭
  50          {
  51   1              TR0=t; 
  52   1      }
  53          
  54          void main()
  55          {
  56   1              u8 print[10],DATA;
  57   1              float v;  
  58   1      
  59   1              LCD1602_Init();//1602初始化
  60   1      
  61   1      //      Alarm_Init();//蜂鸣器(定时器T0)初始化
  62   1      
  63   1              while(1)
  64   1              {       
  65   2                      DATA=Pcf8591_AD(0);  //将通道0输入的模拟信号转换为数字信号      
  66   2                      
  67   2                      for(i=0;i<  ;i++)
*** ERROR C202 IN LINE 67 OF MAIN.C: 'i': undefined identifier
*** ERROR C141 IN LINE 67 OF MAIN.C: syntax error near ';'
*** ERROR C141 IN LINE 67 OF MAIN.C: syntax error near ')'
  68   2                              if disval[i]==DATA break; 
*** ERROR C141 IN LINE 68 OF MAIN.C: syntax error near 'break'
  69   2                      delay_ms(100);  
  70   2                      sprintf(print,"%bu",i+10);
*** ERROR C202 IN LINE 70 OF MAIN.C: 'i': undefined identifier
  71   2                
  72   2                      LCD1602_disstr(print,0,0);//输出到1602液晶显示屏
  73   2               
  74   2              }
  75   1      }
  76          
  77          //叮(一个周期高250us低250us，共500个周期，0.25秒)，咚(一个周期高500us低500us，共250个周期，0.25秒)
  78          void time0() interrupt 1
  79          {
  80   1              if(flag==0)
  81   1              {  
  82   2                      n0++;
  83   2                      if(n0==1000)            
  84   2                      {
  85   3                              n0=0;
  86   3                              flag=1;
  87   3                      }
  88   2                      else
  89   2                      {
  90   3                              beep=~beep;
  91   3                      }
  92   2              }
  93   1              else
  94   1              {                                          //通过改变定时计数时间可以改变门铃的声音
  95   2                      n1++;                     //叮
  96   2                      if(n1==1000)
  97   2                      {
  98   3                              n1=0;
  99   3                              TR0=0;
 100   3                              flag=0;
 101   3                      }
C51 COMPILER V9.00   MAIN                                                                  12/13/2019 08:52:32 PAGE 3   

 102   2                      else
 103   2                      {
 104   3                              if(n1%2==0)     beep=~beep;
 105   3                      }
 106   2              }
 107   1      }                                                                                                                                

C51 COMPILATION COMPLETE.  0 WARNING(S),  16 ERROR(S)
