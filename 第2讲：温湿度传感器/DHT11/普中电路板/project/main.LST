C51 COMPILER V9.00   MAIN                                                                  12/08/2019 16:49:42 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\Program Files (x86)\KEIL\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          //本工程基于普中单片机开发板，晶振12MHz
   2          #include <config.h> 
   3          #include <dht11.h> 
   4          
   5          //#include <uart.h>
   6          //#include <1602.h>
   7          #include <led.h>
   8          
   9          sbit beep=P1^5;//蜂鸣器
  10          
  11          void delay_us(u8 n)//微秒延时
  12          {
  13   1          while(--n);
  14   1      }
  15          
  16          void delay_ms(u16 x)//毫秒延时函数
  17          {u16 i,j;
  18   1       for(i=0;i<x;i++)
  19   1          for(j=0;j<115;j++);
  20   1      }
  21          
  22          
  23          
  24          void Alarm(u8 t) //蜂鸣器报警,持续t秒
  25          {
  26   1       u8 i,j,k;      
  27   1       for(j=0;j<t;j++)
  28   1       { for(i=0;i<200;i++)
  29   2            {beep=0;delay_us(50);beep=1;delay_us(50);}
  30   2         for(k=0;k<100;k++)
  31   2            {beep=0;delay_us(110);beep=1;delay_us(110);}
  32   2       }
  33   1      }
  34          
  35          void main()
  36          {
  37   1              u8 i;
  38   1              u8 RHum=0,Temp=0;
  39   1              u8 print[20]; 
  40   1      
  41   1      //      uart_init(4800); //串口初始化             12MHz时，波特率取4800，误差较小
  42   1      //      LCD1602_Init(); //1602初始化
  43   1      
  44   1              while(1)
  45   1              {    
  46   2                      delay_ms(1500); //DHT11上电后要等待1S以越过不稳定状态在此期间不能发送任何指令
  47   2                      DHT11_receive(&RHum,&Temp); //读取传感器传送过来的温湿度数据 
  48   2                      
  49   2      //              sprintf(print,"Temp:%bd;RHum:%bd%%",Temp,RHum);
  50   2      //          uart_send_str(print);//输出到串口
  51   2      //              LCD1602_disstr(print,0,0);//输出到1602液晶显示屏
  52   2      
  53   2              
  54   2                      sprintf(print,"%bd %bd",Temp,RHum);
  55   2              for(i=0;i<50;i++)
C51 COMPILER V9.00   MAIN                                                                  12/08/2019 16:49:42 PAGE 2   

  56   2                Print_str_LED(print);//输出到数码管
  57   2       
  58   2       //         if(Temp>20) Alarm(5);  //温度超过20度，蜂鸣器报警
  59   2                                                 
  60   2              }
  61   1      }
  62          
  63          
  64          
  65          
  66           


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    165    ----
   CONSTANT SIZE    =      8    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      23
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
