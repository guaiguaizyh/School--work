C51 COMPILER V9.00   1602                                                                  12/08/2019 16:59:05 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE 1602
OBJECT MODULE PLACED IN 1602.OBJ
COMPILER INVOKED BY: D:\Program Files (x86)\KEIL\C51\BIN\C51.EXE 1602.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include <1602.h>
   2          #define DATA P0
   3          sbit LCDEN=P3^4;
   4          sbit RS=P3^5; 
   5          //RW½ÓµØ£¬Ö»ÄÜÐ´²»ÄÜ¶Á
   6          
   7          void WrComLCD(u8 ComVal)//Ð´ÃüÁîº¯Êý
   8          {
   9   1              RS = 0;
  10   1              delay_ms(1);
  11   1              LCDEN = 1;
  12   1              DATA = ComVal;
  13   1              delay_ms(1);
  14   1              LCDEN = 0;      
  15   1      }
  16          
  17          void WrDatLCD(u8 DatVal)//Ð´Êý¾Ýº¯Êý
  18          {
  19   1              RS = 1;
  20   1              delay_ms(1);
  21   1              LCDEN = 1;
  22   1              DATA = DatVal;
  23   1              delay_ms(1);
  24   1              LCDEN = 0;      
  25   1      }
  26          
  27          void retACAdr(u8 add)//·µ»Øµ½Ä³¸ö¹â±êµØÖ·
  28          {   
  29   1          WrComLCD(0x80+add);       
  30   1      }
  31          
  32          void LCD1602pos(u8 x,u8 y)//1602ÏÔÊ¾×ø±ê¶¨Î»º¯Êý£ºxÎªÐÐ±ê£¬0£ºµÚÒ»ÐÐ£¬1£ºµÚ¶þÐÐ£»yÎªÁÐ±ê£¬0-15
  33          {
  34   1              u8 t;
  35   1              t=x?0x40:0x00;
  36   1              WrComLCD(0x80+t+y);  
  37   1      }
  38          
  39          void LCD1602_Init( )//1602³õÊ¼»¯º¯Êý
  40          { 
  41   1              WrComLCD(0x38);     // ¹¦ÄÜÉè¶¨:16*2ÐÐ¡¢5*7µãÕó¡¢8Î»Êý¾Ý½Ó¿Ú
  42   1              WrComLCD(0x38);
  43   1              WrComLCD(0x38);    
  44   1      //¶à´ÎÖØ¸´Éè¶¨¹¦ÄÜÖ¸Áî,ÒòÎªLCDÆô¶¯ºó²¢²»ÖªµÀÊ¹ÓÃµÄÊÇ4Î»Êý¾Ý½Ó¿Ú»¹ÊÇ8Î»µÄ£¬ËùÒÔ¿ªÊ¼Ê±×ÜÊÇÄ¬ÈÏÎª4Î»£¬ÕâÑù¸Õ¿
             -ªÊ¼Ð´Èë¹¦ÄÜÉè¶¨Ö¸ÁîÊ±£¬µÍ4Î»±»ºöÂÔ,ÎªÁË¿É¿¿£¬×îºÃ¶àÐ´¼¸±é¸ÃÖ¸Áî 
  45   1              WrComLCD(0x01);    // ÇåÆÁ 
  46   1              WrComLCD(0x06);    // ¹â±ê×ÔÔö¡¢ÆÁÄ»²»¶¯  
  47   1              delay_ms(1);          // ÑÓÊ±£¬µÈ´ýÉÏÃæµÄÖ¸ÁîÉúÐ§£¬ÏÂÃæÔÙÏÔÊ¾£¬·ÀÖ¹³öÏÖÂÒÂë
  48   1              WrComLCD(0x0c);    // ¿ªÏÔÊ¾¡¢¹Ø¹â±ê
  49   1              LCD1602pos(0,0);//´ÓµÚÒ»ÐÐµÚÒ»¸ö×Ö·û¿ªÊ¼ÏÔÊ¾
  50   1              delay_ms(5);
  51   1      }
  52          
  53          void LCD1602_disstr(u8 *p,u8 x,u8 y)//´ÓÖ¸¶¨×ø±ê¿ªÊ¼ÏÔÊ¾Ó¢ÎÄ×Ö·û´®£¨³¤¶È²»³¬¹ý32£©£¬×Ô¶¯»»ÐÐ
  54          {       
C51 COMPILER V9.00   1602                                                                  12/08/2019 16:59:05 PAGE 2   

  55   1              u8 i=0;
  56   1          LCD1602pos(x,y);
  57   1              while(p[i]!='\0')
  58   1              {  
  59   2                      WrDatLCD(p[i]);
  60   2                      i++;
  61   2                      delay_ms(5);
  62   2              
  63   2                  if((y+i)%16==0)  //Ò»ÐÐÏÔÊ¾µ½Ä©Î²
  64   2                      {  
  65   3                          x=x^0x01;//ÇÐ»»µ½ÁíÒ»ÐÐ£¬Èç¹ûµÚ1ÐÐÐ´Íê»»ÐÐµ½µÚ2ÐÐ,Èç¹ûµÚ2ÐÐÐ´Íê»»ÐÐµ½µÚ1ÐÐ
  66   3                          LCD1602pos(x,0);//ÉèÖÃÏÔÊ¾µØÖ·ÎªÁíÒ»ÐÐÐÐÊ×
  67   3                      }               
  68   2              }       
  69   1      }
  70          
  71          void LCD1602_disch_x_y(u8 ch,u8 x,u8 y)//ÔÚÖ¸¶¨Î»ÖÃÏÔÊ¾Ò»¸öÓ¢ÎÄ×Ö·û
  72          {       
  73   1              LCD1602pos(x,y);
  74   1              WrDatLCD(ch);
  75   1              delay_ms(5);    
  76   1      }
  77          
  78          void LCD1602_disch(u8 ch)//ÔÚµ±Ç°Î»ÖÃÏÔÊ¾Ò»¸öÓ¢ÎÄ×Ö·û
  79          {       
  80   1              WrDatLCD(ch);
  81   1              delay_ms(5);    
  82   1      }
  83          
  84          void LCD1602_clear( )//1602ÇåÆÁº¯Êý
  85          {
  86   1              WrComLCD(0x01);    // ÇåÆÁ
  87   1      } 
  88          
  89          void LCD1602_return( )//1602·µ»Øº¯Êý
  90          {
  91   1              WrComLCD(0x02);    // ÇåÆÁ
  92   1      } 
  93          
  94          void LCD1602_backspace( )//Ïò×óÉ¾³ýÒ»¸ö×Ö·û
  95          {
  96   1              WrComLCD(0x10);//¹â±ê×óÒÆ
  97   1              WrDatLCD(' ');//Êä³ö¿Õ¸ñ
  98   1              WrComLCD(0x10);//¹â±ê×óÒÆ
  99   1      }
 100          
 101          void LCD1602_cursor(u8 direct)//¹â±ê×óÓÒÒÆ¶¯£¬direct=0£¬×óÒÆ£¬direct=1£¬ÓÒÒÆ
 102          {
 103   1              if(direct) WrComLCD(0x14);//¹â±êÓÒÒÆ
 104   1          else           WrComLCD(0x10);//¹â±ê×óÒÆ    
 105   1              
 106   1      }
 107          
 108          void LCD1602_screen(u8 direct)//ÆÁÄ»×óÓÒÒÆ¶¯£¬direct=0£¬×óÒÆ£¬direct=1£¬ÓÒÒÆ
 109          {
 110   1              if(direct) WrComLCD(0x1C);//ÆÁÄ»ÓÒÒÆ
 111   1          else           WrComLCD(0x18);//ÆÁÄ»×óÒÆ    
 112   1      }
 113          
 114          void LCD1602_pow(u8 x)//´ò¿ª(1)»ò¹Ø±Õ(0)ÏÔÊ¾
 115          { 
 116   1              if(x==1) WrComLCD(0x0f);        //¿ªÏÔÊ¾
C51 COMPILER V9.00   1602                                                                  12/08/2019 16:59:05 PAGE 3   

 117   1              if(x==0) WrComLCD(0x08);        //¹ØÏÔÊ¾
 118   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    297    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      10
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
