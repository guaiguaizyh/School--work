C51 COMPILER V9.00   MAIN                                                                  12/08/2019 15:23:17 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\Program Files (x86)\KEIL\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          //本工程基于普中单片机开发板，晶振12MHz
   2          #include <config.h> 
   3          #include <sht10.h> 
   4          
   5          //#include <uart.h>
   6          //#include <1602.h>
   7          #include <led.h> 
   8          
   9          void delay_ms(u16 x)//毫秒延时函数
  10          {u16 i,j;
  11   1      for(i=0;i<x;i++)
  12   1          for(j=0;j<115;j++);
  13   1      }
  14          
  15          void main()
  16          {
  17   1              u8  i,j,error=0;
  18   1              u16 Temp;//温度测量值
  19   1              u16 RHum;//湿度测量值
  20   1              float VTemp=0;//温度物理值
  21   1              float VRHum=0;//湿度物理值
  22   1              u8 Check;//校验和
  23   1              u8 print[20];
  24   1      
  25   1      //      uart_init(4800); //串口初始化             12MHz时，波特率取4800，误差较小
  26   1      //      LCD1602_Init( );
  27   1              
  28   1              Sht10_Reset(); //传感器初始化，重置连接
  29   1              while(1)
  30   1              {    
  31   2                      error=0;
  32   2      
  33   2                      error=Sht10_Measure(&Temp,&Check,0);//测量温度
  34   2                      error+=Sht10_Measure(&RHum,&Check,1);//测量湿度
  35   2                       
  36   2                      if(error!=0)  
  37   2                                      Sht10_Reset();//出错则重新连接
  38   2                      else{
  39   3                                      Sht10_Convert(Temp,RHum,&VTemp,&VRHum);//没有出错则转换为物理量
  40   3              
  41   3                                      sprintf(print,"Temp:%.1f;RHum:%.0f%%",VTemp,VRHum);
  42   3      //                      uart_send_str(print);//输出到串口
  43   3      //                              LCD1602_disstr(print,0,0);//输出到1602液晶显示屏
  44   3      //                              delay_ms(800); //延时0.8秒，以免传感器工作过于频繁发热
  45   3                                      
  46   3                                      //输出到6位数码管
  47   3                                      sprintf(print,"%3.0f%3.0f",VTemp,VRHum);
  48   3                                      for(i=50;i>0;i--) Print_str_LED(print);
  49   3      
  50   3                                      //输出到12864  
  51   3                      
  52   3                              }                                                          
  53   2              }
  54   1      }
*** WARNING C280 IN LINE 17 OF MAIN.C: 'j': unreferenced local variable
C51 COMPILER V9.00   MAIN                                                                  12/08/2019 15:23:17 PAGE 2   

  55          
  56          
  57          
  58          
  59           


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    245    ----
   CONSTANT SIZE    =     33    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      36
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
