C51 COMPILER V9.00   24C02                                                                 12/19/2023 12:54:59 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE 24C02
OBJECT MODULE PLACED IN .\output\24C02.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE drive\24C02.c BROWSE INCDIR(.\app;.\drive) DEBUG OBJECTEXTEND PRINT(.\outpu
                    -t\24C02.lst) OBJECT(.\output\24C02.obj)

line level    source

   1          #include <24C02.h> 
   2          
   3          u8 WriteRom(u8 addr, u8 dat)    //ÏòAT24CxxÖÐÖ¸¶¨µØÖ·µ¥ÔªÐ´ÈëÊý¾Ý£¬addr´æ´¢µ¥ÔªµØÖ·£¬datÐ´ÈëµÄÊý¾Ý£¬Ð´Èë³É¹¦·
             -µ»Ø1£¬·ñÔò·µ»Ø0
   4          {  
   5   1         u8 i=4,ack;//iÎªÔÊÐí×î´óÖØÐ´´ÎÊý£¬Èô³öÏÖi´Î²Ù×÷Ê§Ð§ºó£¬Ôòº¯ÊýÖÐÖ¹²Ù×÷£¬²¢·µ»Ø
   6   1         while(--i)
   7   1         {
   8   2            I2C_Start();              //Æô¶¯×ÜÏß
   9   2            ack=I2C_SendByte(AddWr);   //·¢ËÍÆ÷¼þµØÖ·+Ð´
  10   2            if(ack==0) continue;              //ÎÞÓ¦´ðÔòÖØÐÂ¿ªÊ¼ 
  11   2            ack=I2C_SendByte(addr);   //·¢ËÍ´æ´¢µ¥ÔªµØÖ·
  12   2            if(ack==0) continue;              //ÎÞÓ¦´ðÔòÖØÐÂ¿ªÊ¼ 
  13   2            ack=I2C_SendByte(dat);   //Ð´ÈëÊý¾Ý
  14   2            if(ack==0) continue;              //ÎÞÓ¦´ðÔòÖØÐÂ¿ªÊ¼ 
  15   2            break; //Ð´Èë³É¹¦Ôò½áÊø
  16   2         }
  17   1         I2C_Stop();         //½áÊø×ÜÏß
  18   1         delay_ms(4);        //1¸ö×Ö½ÚµÄÐ´ÈëÖÜÆÚÎª1ms, ×îºÃÑÓÊ±1msÒÔÉÏ
  19   1         if(i>0) return 1;
  20   1         else    return 0;      
  21   1      }
  22          
  23          u8 ReadRom(u8 addr)//´ÓAT24CxxÖÐÖ¸¶¨µØÖ·µ¥Ôª¶ÁÈ¡Êý¾Ý£¬addr´æ´¢µ¥ÔªµØÖ·£¬Ð´Èë³É¹¦·µ»Ø1£¬·ñÔò·µ»Ø0
  24          { 
  25   1        u8 i=4,dat,ack;//iÎªÔÊÐí×î´óÖØ¶Á´ÎÊý£¬Èô³öÏÖi´Î²Ù×÷Ê§Ð§ºó£¬Ôòº¯ÊýÖÐÖ¹²Ù×÷£¬²¢·µ»Ø
  26   1        while(--i)
  27   1        {     
  28   2            I2C_Start();              //Æô¶¯×ÜÏß
  29   2            ack=I2C_SendByte(AddWr);   //·¢ËÍÆ÷¼þµØÖ·+Ð´
  30   2            if(ack==0) continue;              //ÎÞÓ¦´ðÔòÖØÐÂ¿ªÊ¼ 
  31   2            ack=I2C_SendByte(addr);   //·¢ËÍ´æ´¢µ¥ÔªµØÖ·
  32   2                if(ack==0) continue;          //ÎÞÓ¦´ðÔòÖØÐÂ¿ªÊ¼ 
  33   2                
  34   2                I2C_Start();              //ÖØÆô×ÜÏß
  35   2            ack=I2C_SendByte(AddWr+1);   //·¢ËÍÆ÷¼þµØÖ·+¶Á
  36   2                if(ack==0) continue;          //ÎÞÓ¦´ðÔòÖØÐÂ¿ªÊ¼ 
  37   2            dat=I2C_RcvByte();      //¶ÁÈ¡Ö¸¶¨µØÖ·µ¥ÔªÀïµÄÊý¾Ý
  38   2      
  39   2            I2C_Ack(1);           //·¢ËÍ·ÇÓ¦´ðÐÅºÅ£¬½áÊøÊý¾Ý´«Êä
  40   2            break;
  41   2        } 
  42   1         I2C_Stop();           //½áÊø×ÜÏß
  43   1         if(i>0) return dat;
  44   1         else    return 0; 
  45   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    148    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       8
C51 COMPILER V9.00   24C02                                                                 12/19/2023 12:54:59 PAGE 2   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
